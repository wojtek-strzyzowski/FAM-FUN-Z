import{_ as B,r as i,o as b,a as p,w as S,b as a,c as v,d as k,e,f as h,v as f,g as d,h as m,F as y,M as x,t as C,p as I,i as M}from"./app-Cr2bYjbY.js";import{B as D}from"./BlogCard-CcwblxVE.js";const s=l=>(I("data-v-fca89cf6"),l=l(),M(),l),E={class:"header"},K=s(()=>e("h1",null,"Die neuesten Beiträge",-1)),V={class:"filter"},z=s(()=>e("label",{for:"category"},"Kategorie:",-1)),F=s(()=>e("option",{value:""},"Alle Kategorien",-1)),H=["value"],N={class:"sort"},U=s(()=>e("label",{for:"sort"},"Sortieren nach:",-1)),A=s(()=>e("option",{value:"desc"},"Neueste zuerst",-1)),L=s(()=>e("option",{value:"asc"},"Älteste zuerst",-1)),O=[A,L],j={class:"blog-list"},q={__name:"Home",setup(l){const u=i([]),_=i([]),r=i(""),n=i("desc");b(async()=>{await w(),await g()});const w=async()=>{try{const t=await p.get("/api/categories");_.value=t.data,console.log("Kategorien geladen:",t.data)}catch(t){console.error("Error loading categories:",t)}},g=async()=>{try{const t=await p.get("/api/blogs",{params:{category_id:r.value,sort:n.value,limit:6}});u.value=t.data,console.log("Blogs geladen:",t.data)}catch(t){console.error("Error loading blogs:",t)}};return S([r,n],async()=>{await g()}),(t,c)=>(a(),v(x,null,{default:k(()=>[e("div",E,[K,e("div",V,[z,h(e("select",{id:"category","onUpdate:modelValue":c[0]||(c[0]=o=>r.value=o)},[F,(a(!0),d(y,null,m(_.value,o=>(a(),d("option",{key:o.id,value:o.id},C(o.name),9,H))),128))],512),[[f,r.value]])]),e("div",N,[U,h(e("select",{id:"sort","onUpdate:modelValue":c[1]||(c[1]=o=>n.value=o)},O,512),[[f,n.value]])])]),e("div",j,[(a(!0),d(y,null,m(u.value,o=>(a(),v(D,{key:o.id,blog:o},null,8,["blog"]))),128))])]),_:1}))}},P=B(q,[["__scopeId","data-v-fca89cf6"]]);export{P as default};
